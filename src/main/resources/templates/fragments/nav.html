<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<!-- Фрагмент навигации -->
<nav th:fragment="navbar" class="navbar">
    <div class="container">
        <a th:href="@{/}" class="logo">RentalSystem</a>

        <div class="nav-links">
            <a th:href="@{/inventory}"
               th:classappend="${#httpServletRequest.requestURI.startsWith('/inventory')} ? 'active'">
                Инвентарь
            </a>
            <a th:href="@{/rental}"
               th:classappend="${#httpServletRequest.requestURI.startsWith('/rental')} ? 'active'">
                Аренды
            </a>
        </div>

        <div class="user-section" th:if="${#authentication.isAuthenticated()}">
            <span class="username" th:text="${#authentication.principal.username}"></span>
            <span class="role"
                  th:text="'(' + ${#authentication.principal.authorities[0].authority.replace('ROLE_', '')} + ')'">
                </span>
            <form th:action="@{/logout}" method="post">
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                <button type="submit" class="logout-btn">Выйти</button>
            </form>
        </div>
    </div>
</nav>
</body>
</html>